### ----------------------------------------------------------------------
        [2023 01-25] POST 데이터 콘텐츠 타입 (Controller생성, MockMvc)
### ----------------------------------------------------------------------
### 프로젝트 위치
1)  PostController.java
> src/main/java/...controller/PostController.java
    - @PostMapping("/posts")로 로컬에서 http://localhost:8080/posts
    요청하면 return String 값을 리턴한다. 

    @PostMapping("/posts")
    public String post() {
        return "Welcome to MiniBlog!!"
    }

2) testController (PostControllerTest.java)
- 테스트용?? 그 ...
- 보낼 데이터: title, content 
- Content-Type
    - HTTP 헤더값으로 서버로 요청할 때, 받을 때 어떤 데이터 형태인지 알려줌 
- mockMvc는 데이터 형태를 application/JSON 타입으로 보낸다.
    - 예전에는 x-www-form-urlencoded 타입이였음 그러나 이제 웹 서비스를 하는 
    아이티회사에서는 json형태로 통신하는 추세



### MockMvc 
> SrpignBoot 프레임워크에서 제공해주는 MockMvc로 .. 실제 객체와 비슷하지만 
테스트에 사용할 가짜 객체를 만들어 스프링 MVC 동작을 재현할 수 있는 클래스
1) 사용하기 
    - buuld.gradle
        - testCompile("org.springframework.boot:spring-boot-starter-test")
    - @Autowired
    private MockMvc mockMvc; 선언 



### MockMvc의 메소드
1) perform()
    - 요청을 전송하는 역할, 결과로 ResultActions 객체를 받고, 결과값을 검증할 수 있게
    andExcpext() 메소드 사용 (status.isOk()..등등)
2) get(), post()
    - HTTP 메소드를 결정할 수 있음, 파라미터로 url 경로를 보내줌 
3) param(), params()
    - key, value 형태로 파라미터 전달
4) andExpect() 
    - 응답 검증: status().
    - 응답 정보 검증: content().
    - 리다이렉트, 뷰, 모델정보.. 
5) andDo(print())
    - 요청/응답 전체 메세지를 console에서 확인 

* ref
https://shinsunyoung.tistory.com/52

## 정리 
1. POST 방식으로 사용하여 DTO 값을 받을 DTO 글, 컨텐츠를 생성함
2. PostController에서 POST로 받는 컨트롤러 메소드 추가함 
3. Test컨트롤러에서 MockMvc(테스트용 가짜 객체)를 통해 테스트함 
4. MockMvc에서 제공하는 메소드를 사용 

